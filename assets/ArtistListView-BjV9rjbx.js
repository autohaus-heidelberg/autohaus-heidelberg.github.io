import{d as A,n as _,c as f,C as L,o as t,a as s,k as l,q as x,t as S,e as k,w as y,y as v,F as V,l as D,A as N,r as B,h as g,f as i,p as F,j as I,_ as T}from"./index-C3usxq6_.js";import{a as b}from"./artists-D03lRXEJ.js";const $=r=>(F("data-v-35550cf3"),r=r(),I(),r),q={class:"artist-list-view"},E={class:"header"},M=$(()=>l("h2",null,"Artists",-1)),j={class:"header-actions"},Q={key:0,class:"loading"},R={key:1,class:"error"},U={key:2,class:"artists-grid"},W={key:0,class:"artist-image"},Y=["src","alt"],z={key:1,class:"artist-placeholder"},G={class:"artist-content"},H={class:"artist-name"},J={key:0,class:"artist-description"},K={key:1,class:"artist-links"},O=["href"],P=["href"],X=["href"],Z=["href"],ee={class:"artist-actions"},te=["onClick"],se={key:3,class:"empty"},ae=A({__name:"ArtistListView",setup(r){N();const n=_(null),h=_(!1),d=_(""),u=_(""),p=f(()=>{var a;return((a=n.value)==null?void 0:a.results)||[]}),m=f(()=>{if(!u.value)return p.value;const a=u.value.toLowerCase();return p.value.filter(o=>{var c;return o.name.toLowerCase().includes(a)||((c=o.description)==null?void 0:c.toLowerCase().includes(a))})});async function w(){h.value=!0,d.value="";try{n.value=await b.getAll()}catch(a){d.value=a.message||"Failed to load artists"}finally{h.value=!1}}async function C(a){if(confirm(`Delete artist "${a.name}"?`))try{await b.delete(a.id),n.value&&(n.value.results=n.value.results.filter(o=>o.id!==a.id),n.value.count--)}catch(o){alert("Failed to delete artist: "+o.message)}}return L(()=>{w()}),(a,o)=>{const c=B("router-link");return t(),s("div",q,[l("div",E,[M,l("div",j,[x(l("input",{class:"search-input","onUpdate:modelValue":o[0]||(o[0]=e=>u.value=e),type:"text",placeholder:"Search artists..."},null,512),[[S,u.value]]),k(c,{class:"btn-primary",to:"/admin/artists/create"},{default:y(()=>[g("Create Artist")]),_:1})])]),h.value?(t(),s("div",Q,"Loading artists...")):d.value?(t(),s("div",R,v(d.value),1)):m.value.length?(t(),s("div",U,[(t(!0),s(V,null,D(m.value,e=>(t(),s("div",{class:"artist-card",key:e.id},[e.image_url?(t(),s("div",W,[l("img",{src:e.image_url,alt:e.name},null,8,Y)])):(t(),s("div",z)),l("div",G,[l("h3",H,v(e.name),1),e.description?(t(),s("p",J,v(e.description),1)):i("",!0),e.link||e.soundcloud||e.youtube||e.bandcamp?(t(),s("div",K,[e.link?(t(),s("a",{key:0,class:"link",href:e.link,target:"_blank"},"Website",8,O)):i("",!0),e.soundcloud?(t(),s("a",{key:1,class:"link",href:e.soundcloud,target:"_blank"},"SoundCloud",8,P)):i("",!0),e.youtube?(t(),s("a",{key:2,class:"link",href:e.youtube,target:"_blank"},"YouTube",8,X)):i("",!0),e.bandcamp?(t(),s("a",{key:3,class:"link",href:e.bandcamp,target:"_blank"},"Bandcamp",8,Z)):i("",!0)])):i("",!0)]),l("div",ee,[k(c,{class:"btn-edit",to:`/admin/artists/${e.id}`},{default:y(()=>[g("Edit")]),_:2},1032,["to"]),l("button",{class:"btn-delete",onClick:oe=>C(e)},"Delete",8,te)])]))),128))])):(t(),s("div",se,"No artists found"))])}}}),ie=T(ae,[["__scopeId","data-v-35550cf3"]]);export{ie as default};

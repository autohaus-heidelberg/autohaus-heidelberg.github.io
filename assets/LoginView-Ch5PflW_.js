import{d as b,u as y,n as i,o as l,a as d,k as e,z as k,q as m,t as v,y as L,f as V,e as x,w as S,A as B,B as q,r as C,h as I,p as N,j as E,_ as M}from"./index-C3usxq6_.js";const u=t=>(N("data-v-5a7a9a79"),t=t(),E(),t),U={class:"login-page"},A={class:"login-container"},D=u(()=>e("h1",null,"Login",-1)),P=u(()=>e("p",{class:"subtitle"},"Backend Management",-1)),R={class:"form-group"},T=u(()=>e("label",{for:"username"},"Username",-1)),j=["disabled"],z={class:"form-group"},H=u(()=>e("label",{for:"password"},"Password",-1)),F=["disabled"],G={key:0,class:"error"},J=["disabled"],K={key:0},O={key:1},Q=b({__name:"LoginView",setup(t){const h=B(),f=q(),p=y(),n=i(""),r=i(""),s=i(!1),a=i("");async function g(){if(!n.value||!r.value){a.value="Please enter username and password";return}s.value=!0,a.value="";const _=await p.login({username:n.value,password:r.value});if(s.value=!1,_){const o=f.query.redirect||"/admin";h.push(o)}else a.value=p.error||"Login failed"}return(_,o)=>{const w=C("router-link");return l(),d("div",U,[e("div",A,[D,P,e("form",{class:"login-form",onSubmit:k(g,["prevent"])},[e("div",R,[T,m(e("input",{id:"username","onUpdate:modelValue":o[0]||(o[0]=c=>n.value=c),type:"text",required:"",autocomplete:"username",disabled:s.value,placeholder:"Enter your username"},null,8,j),[[v,n.value]])]),e("div",z,[H,m(e("input",{id:"password","onUpdate:modelValue":o[1]||(o[1]=c=>r.value=c),type:"password",required:"",autocomplete:"current-password",disabled:s.value,placeholder:"Enter your password"},null,8,F),[[v,r.value]])]),a.value?(l(),d("div",G,L(a.value),1)):V("",!0),e("button",{class:"btn-primary",type:"submit",disabled:s.value},[s.value?(l(),d("span",K,"Logging in...")):(l(),d("span",O,"Login"))],8,J)],32),x(w,{class:"back-link",to:"/"},{default:S(()=>[I("‚Üê Back to Home")]),_:1})])])}}}),X=M(Q,[["__scopeId","data-v-5a7a9a79"]]);export{X as default};
